<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunch Picker Program</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ½ï¸ åˆé¤é€‰æ‹©å™¨</h1>
            <p>ç®¡ç†æ‚¨çš„åˆé¤èœå•å¹¶éšæœºé€‰æ‹©ä»Šæ—¥åˆé¤</p>
        </header>

        <main>
            <section class="menu-section">
                <h2>å½“å‰èœå•</h2>
                <div id="menu-display" class="menu-display">
                    <p id="menu-items">èœå•ä¸ºç©º</p>
                </div>
            </section>

            <section class="add-section">
                <h2>æ·»åŠ åˆé¤é€‰é¡¹</h2>
                <form id="add-lunch-form">
                    <div class="form-group">
                        <label for="lunch-item">åˆé¤åç§°:</label>
                        <input type="text" id="lunch-item" name="lunch-item" required>
                    </div>
                    <div class="form-group">
                        <label for="add-position">æ·»åŠ ä½ç½®:</label>
                        <select id="add-position" name="add-position">
                            <option value="end">æœ«å°¾</option>
                            <option value="start">å¼€å¤´</option>
                        </select>
                    </div>
                    <button type="submit">æ·»åŠ åˆé¤</button>
                </form>
            </section>

            <section class="action-section">
                <h2>æ“ä½œé¢æ¿</h2>
                <div class="buttons">
                    <button id="random-lunch-btn" class="btn-primary">éšæœºé€‰æ‹©åˆé¤</button>
                    <button id="remove-first-btn" class="btn-secondary">ç§»é™¤é¦–ä¸ªåˆé¤</button>
                    <button id="remove-last-btn" class="btn-secondary">ç§»é™¤æœ«ä¸ªåˆé¤</button>
                    <button id="show-menu-btn" class="btn-info">æ˜¾ç¤ºå®Œæ•´èœå•</button>
                </div>
            </section>

            <section class="result-section">
                <h2>æ“ä½œç»“æœ</h2>
                <div id="result-display" class="result-display">
                    <p>æ“ä½œç»“æœå°†åœ¨æ­¤æ˜¾ç¤º</p>
                </div>
            </section>
        </main>

        <footer>
            <p> Lunch Picker Program &copy; 2023</p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script>
        // åˆå§‹åŒ–èœå•æ•°ç»„
        let lunches = [];

        // è·å–DOMå…ƒç´ 
        const menuDisplay = document.getElementById('menu-items');
        const resultDisplay = document.getElementById('result-display');
        const addLunchForm = document.getElementById('add-lunch-form');
        const randomLunchBtn = document.getElementById('random-lunch-btn');
        const removeFirstBtn = document.getElementById('remove-first-btn');
        const removeLastBtn = document.getElementById('remove-last-btn');
        const showMenuBtn = document.getElementById('show-menu-btn');

        // æ›´æ–°èœå•æ˜¾ç¤º
        function updateMenuDisplay() {
            if (lunches.length === 0) {
                menuDisplay.textContent = 'èœå•ä¸ºç©º';
            } else {
                menuDisplay.textContent = lunches.join(', ');
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult(message) {
            resultDisplay.innerHTML = `<p>${message}</p>`;
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            resultDisplay.scrollIntoView({ behavior: 'smooth' });
        }

        // æ·»åŠ åˆé¤è¡¨å•æäº¤äº‹ä»¶
        addLunchForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const lunchItem = document.getElementById('lunch-item').value;
            const addPosition = document.getElementById('add-position').value;

            if (lunchItem.trim() !== '') {
                if (addPosition === 'end') {
                    lunches = addLunchToEnd(lunches, lunchItem);
                    showResult(`${lunchItem} å·²æ·»åŠ åˆ°èœå•æœ«å°¾`);
                } else {
                    lunches = addLunchToStart(lunches, lunchItem);
                    showResult(`${lunchItem} å·²æ·»åŠ åˆ°èœå•å¼€å¤´`);
                }
                updateMenuDisplay();
                addLunchForm.reset();
            }
        });

        // éšæœºé€‰æ‹©åˆé¤æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        randomLunchBtn.addEventListener('click', function() {
            if (lunches.length === 0) {
                showResult('èœå•ä¸ºç©ºï¼Œæ— æ³•éšæœºé€‰æ‹©');
            } else {
                getRandomLunch(lunches);
                // æ³¨æ„ï¼šgetRandomLunchå‡½æ•°å†…éƒ¨å·²ç»æœ‰console.logè¾“å‡º
                // è¿™é‡Œä¸ºäº†åœ¨UIä¸Šæ˜¾ç¤ºç»“æœï¼Œæˆ‘ä»¬é‡æ–°å®ç°é€»è¾‘
                const randomLunch = lunches[Math.floor(Math.random() * lunches.length)];
                showResult(`éšæœºé€‰æ‹©çš„åˆé¤æ˜¯: ${randomLunch}`);
            }
        });

        // ç§»é™¤é¦–ä¸ªåˆé¤æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        removeFirstBtn.addEventListener('click', function() {
            if (lunches.length === 0) {
                showResult('èœå•ä¸ºç©ºï¼Œæ— æ³•ç§»é™¤');
            } else {
                const removedItem = lunches[0];
                lunches = removeFirstLunch(lunches);
                showResult(`${removedItem} å·²ä»èœå•å¼€å¤´ç§»é™¤`);
                updateMenuDisplay();
            }
        });

        // ç§»é™¤æœ«ä¸ªåˆé¤æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        removeLastBtn.addEventListener('click', function() {
            if (lunches.length === 0) {
                showResult('èœå•ä¸ºç©ºï¼Œæ— æ³•ç§»é™¤');
            } else {
                const removedItem = lunches[lunches.length - 1];
                lunches = removeLastLunch(lunches);
                showResult(`${removedItem} å·²ä»èœå•æœ«å°¾ç§»é™¤`);
                updateMenuDisplay();
            }
        });

        // æ˜¾ç¤ºå®Œæ•´èœå•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        showMenuBtn.addEventListener('click', function() {
            showLunchMenu(lunches);
            // æ³¨æ„ï¼šshowLunchMenuå‡½æ•°å†…éƒ¨å·²ç»æœ‰console.logè¾“å‡º
            // è¿™é‡Œä¸ºäº†åœ¨UIä¸Šæ˜¾ç¤ºç»“æœï¼Œæˆ‘ä»¬é‡æ–°å®ç°é€»è¾‘
            if (lunches.length === 0) {
                showResult('èœå•ä¸ºç©º');
            } else {
                showResult(`èœå•å†…å®¹: ${lunches.join(', ')}`);
            }
        });

        // åˆå§‹åŒ–èœå•æ˜¾ç¤º
        updateMenuDisplay();
    </script>
</body>
</html>