<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <title>酒店反馈表单</title>
    <!-- 引入 EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
      // 初始化 EmailJS
      (function() {
        // 替换为你的 EmailJS 用户ID
        emailjs.init('dlwkJq-O8PAN5rFLU'); 
      })();

      // 处理表单提交
      function sendEmail(e) {
        e.preventDefault(); // 阻止默认提交行为

        // 获取表单元素
        const form = e.target;
        
        // 替换为你的 EmailJS 服务ID 和 模板ID
        const serviceID = 'service_qrxvnkx';
        const templateID = 'template_jpfma0s';

        // 使用 EmailJS 发送邮件
        emailjs.sendForm(serviceID, templateID, form)
          .then(function() {
            console.log('邮件发送成功!');
            alert('感谢您的反馈！');
            form.reset(); // 重置表单
          }, function(error) {
            console.log('邮件发送失败:', error);
            alert('发送失败，请稍后重试。');
          });
      }

      // 页面加载完成后绑定事件
      document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        form.addEventListener('submit', sendEmail);
      });
    </script>
  </head>
  <body>
    <header>
      <h1>酒店反馈表单</h1>
      <p>
        感谢您选择入住我们酒店。请提供您最近住宿的反馈意见。
      </p>
    </header>
    <main>
      <!-- 移除 action 属性，因为我们将在 JavaScript 中处理提交 -->
      <form method="POST">
        <fieldset>
          <legend>个人信息</legend>
          <label for="full-name">姓名（必填）：</label>
          <input type="text" id="full-name" name="name" placeholder="例如：张三" required size="20">

          <br>
          <label for="email">电子邮箱（必填）：</label>
          <input
            placeholder="xxx@qq.com"
            required
            id="email"
            type="email"
            name="email"
            size="20"
          />

          <br>
          <label for="age">年龄（可选）：</label>
          <input type="number" name="age" id="age" min="3" max="100" />
        </fieldset>

        <fieldset>
          <legend>这是您第一次入住我们酒店吗？</legend>
          <label for="yes-option">是</label>
          <input id="yes-option" type="radio" name="hotel-stay" />
          <label for="no-option">否</label>
          <input id="no-option" type="radio" name="hotel-stay" />
        </fieldset>

        <fieldset>
          <legend>
            您选择入住我们酒店的原因是什么？（可多选）
          </legend>

          <label for="ads">社交媒体广告</label>
          <input type="checkbox" id="ads" name="ads" value="ads" />

          <br>
          <label for="recommendation">个人推荐</label>
          <input
            type="checkbox"
            id="recommendation"
            name="recommendation"
            value="recommendation"
          />

          <br>
          <label for="location">地理位置</label>
          <input type="checkbox" id="location" name="location" value="location" />
           
          <br>
          <label for="price">价格</label>
          <input type="checkbox" id="price" name="price" value="price" />

          <br>
          <label for="reputation">声誉</label>
          <input
            checked
            type="checkbox"
            id="reputation"
            name="reputation"
            value="reputation"
          />

        </fieldset>

        <fieldset>
          <legend>评分</legend>

          <label for="service">服务质量如何？</label>

          <select name="service" id="service">
            <option value="poor">差</option>
            <option value="satisfactory">一般</option>
            <option value="good">好</option>
            <option value="very-good">很好</option>
            <option selected value="excellent">优秀</option>
          </select>

          <br>
          <label for="food">餐饮质量如何？</label>

          <select name="food" id="food">
            <option value="poor">差</option>
            <option value="satisfactory">一般</option>
            <option value="good">好</option>
            <option value="very-good">很好</option>
            <option selected value="excellent">优秀</option>
          </select>
        </fieldset>

        <label for="comments">其他意见或建议？</label>
        <br>

        <textarea id="comments" name="comments" rows="10" cols="30"></textarea>
        <br>
        <button type="submit">提交</button>
      </form>
    </main>
  </body>
</html>