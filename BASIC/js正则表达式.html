<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript正则表达式详解</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 8px;
            background-color: #f8f9fa;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        h2 {
            color: #4a5568;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        h3 {
            color: #2d3748;
            margin: 20px 0 10px 0;
        }
        p {
            margin-bottom: 15px;
            font-size: 1.05rem;
        }
        .code-block {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            margin: 15px 0;
            overflow-x: auto;
        }
        .example {
            margin: 20px 0;
            padding: 15px;
            border-left: 4px solid #667eea;
            background-color: #ebf8ff;
        }
        .example-title {
            font-weight: bold;
            color: #2c5282;
            margin-bottom: 10px;
        }
        .example-code {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            margin: 10px 0;
        }
        .example-result {
            background-color: #f0fff4;
            border: 1px solid #9ae6b4;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
        .example-result-title {
            font-weight: bold;
            color: #38a169;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #667eea;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .interactive-section {
            background-color: #fff9f9;
            border: 1px solid #fed7d7;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        .interactive-title {
            color: #c53030;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        button {
            background-color: #667eea;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #5a67d8;
        }
        .result-box {
            margin-top: 15px;
            padding: 15px;
            background-color: #ebf8ff;
            border-radius: 4px;
            border: 1px solid #bee3f8;
        }
        .footer {
            text-align: center;
            padding: 20px;
            background-color: #f8f9fa;
            color: #718096;
            font-size: 0.9rem;
        }
        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }
        }
        /* 新增样式，让标志列表显示为黑字白底 */
        .flag-list {
            background-color: white;
            color: black;
            padding: 15px;
            border-radius: 5px;
        }
        .flag-list li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>JavaScript正则表达式详解</h1>
            <p class="subtitle">掌握正则表达式的核心概念与实际应用</p>
        </header>
        <div class="content">
            <div class="section">
                <h2>10. 交互式测试工具</h2>
                <div class="interactive-section">
                    <div class="interactive-title">正则表达式测试工具</div>
                    <div class="input-group">
                        <label for="pattern">正则表达式模式:</label>
                        <input type="text" id="pattern" placeholder="例如: \d+ 或 [a-z]+">
                    </div>
                    <div class="input-group">
                        <label for="text">测试文本:</label>
                        <input type="text" id="text" placeholder="输入要测试的文本">
                    </div>
                    <button onclick="testRegex()">测试正则表达式</button>
                    <div id="result" class="result-box" style="display: none;"></div>
                </div>
            </div>
            <div class="section">
                <h2>1. 基本语法</h2>
                <div class="code-block">
// 字面量形式<br>
const regex = /pattern/flags;<br><br>

// 构造函数形式<br>
const regex = new RegExp('pattern', 'flags');
                </div>
            </div>

            <div class="section">
                <h2>2. 常用标志(flags)</h2>
                <ul class="flag-list">
                    <li><code>g</code> - 全局匹配</li>
                    <li><code>i</code> - 忽略大小写</li>
                    <li><code>m</code> - 多行模式</li>
                    <li><code>s</code> - 让<code>.</code>匹配换行符</li>
                    <li><code>u</code> - Unicode模式</li>
                    <li><code>y</code> - 粘性匹配</li>
                </ul>
            </div>

            <div class="section">
                <h2>3. 字符类</h2>
                <h3>基本字符类</h3>
                <div class="code-block">
// 基本字符类<br>
/[abc]/        // 匹配a、b或c<br>
/[^abc]/       // 匹配除了a、b、c之外的字符<br>
/[a-z]/        // 匹配小写字母<br>
/[A-Z]/        // 匹配大写字母<br>
/[0-9]/        // 匹配数字<br>
/[a-zA-Z0-9]/  // 匹配字母和数字<br><br>

// 预定义字符类<br>
/\d/    // 数字字符 [0-9]<br>
/\D/    // 非数字字符 [^0-9]<br>
/\w/    // 单词字符 [a-zA-Z0-9_]<br>
/\W/    // 非单词字符 [^a-zA-Z0-9_]<br>
/\s/    // 空白字符（空格、制表符、换行符等）<br>
/\S/    // 非空白字符<br>
/. /    // 任意字符（除换行符外）
                </div>
            </div>

            <div class="section">
                <h2>4. 量词</h2>
                <div class="code-block">
// 基本量词<br>
/a*/       // 0次或多次<br>
/a+/       // 1次或多次<br>
/a?/       // 0次或1次<br>
/a{n}/     // 恰好n次<br>
/a{n,}/    // n次或更多<br>
/a{n,m}/   // n到m次<br><br>

// 贪婪与非贪婪<br>
/a+/       // 贪婪匹配<br>
/a+?/      // 非贪婪匹配
                </div>
            </div>

            <div class="section">
                <h2>5. 位置断言</h2>
                <div class="code-block">
// 位置断言<br>
/^/        // 行首<br>
/$/        // 行尾<br>
/\b/       // 单词边界<br>
/\B/       // 非单词边界
                </div>
            </div>

            <div class="section">
                <h2>6. 分组和捕获</h2>
                <div class="code-block">
// 捕获组<br>
/(abc)/        // 捕获组<br>
/(abc)\1/      // 反向引用第一个捕获组<br><br>

// 非捕获组<br>
/(?:abc)/      // 非捕获组<br><br>

// 命名捕获组<br>
/(?<name>abc)/ // 命名捕获组
                </div>
            </div>

            <div class="section">
                <h2>7. 前瞻和后顾</h2>
                <div class="code-block">
// 正向前瞻<br>
/a(?=b)/       // 匹配后面跟着b的a<br><br>

// 负向前瞻<br>
/a(?!b)/       // 匹配后面不跟b的a<br><br>

// 正向后顾<br>
/(?<=b)a/      // 匹配前面有b的a<br><br>

// 负向后顾<br>
/(?<!b)a/      // 匹配前面没有b的a
                </div>
            </div>

            <div class="section">
                <h2>8. 常用正则表达式示例</h2>
                <div class="code-block">
// 邮箱验证<br>
/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/<br><br>

// 手机号验证<br>
/^1[3-9]\d{9}$/<br><br>

// URL验证<br>
/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/<br><br>

// 密码强度（至少8位，包含大小写字母、数字和特殊字符）<br>
/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/<br><br>

// IP地址<br>
/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/<br><br>

// 身份证号<br>
/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/<br><br>

// 中文字符<br>
/[\u4e00-\u9fa5]/<br><br>

// 浮点数<br>
/^-?\d+(\.\d+)?$/
                </div>
            </div>

            <div class="section">
                <h2>9. 正则表达式方法</h2>
                <div class="code-block">
// RegExp对象方法<br>
regex.test(string)        // 测试是否匹配<br>
regex.exec(string)        // 执行匹配，返回匹配结果数组<br><br>

// String对象方法<br>
string.match(regex)       // 返回匹配结果数组<br>
string.search(regex)      // 返回匹配位置索引<br>
string.replace(regex, replacement)  // 替换匹配内容<br>
string.split(regex)       // 按匹配内容分割字符串
                </div>
            </div>

            <div class="section">
                <h2>11. 实际应用示例</h2>
                <div class="code-block">
// 提取所有数字<br>
const text = "价格是100元，折扣20%";<br>
const numbers = text.match(/\d+/g); // ["100", "20"]<br><br>

// 验证邮箱<br>
const email = "user@example.com";<br>
const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);<br><br>

// 替换敏感词<br>
const content = "这个价格太贵了";<br>
const filtered = content.replace(/贵/g, "*");<br><br>

// 分割字符串<br>
const sentence = "apple,banana;orange";<br>
const fruits = sentence.split(/[,;]/); // ["apple", "banana", "orange"]
                </div>
            </div>
        </div>

        <div class="footer">
            <p>JavaScript正则表达式详解 © 2023</p>
        </div>
    </div>

    <script>
        function testRegex() {
            const patternInput = document.getElementById('pattern').value;
            const textInput = document.getElementById('text').value;
            const resultDiv = document.getElementById('result');
            
            if (!patternInput || !textInput) {
                alert('请输入正则表达式模式和测试文本');
                return;
            }
            
            try {
                const regex = new RegExp(patternInput, 'g');
                const testResult = regex.test(textInput);
                const matchResult = textInput.match(regex);
                
                let resultHTML = `<div class="example-result-title">测试结果:</div>`;
                resultHTML += `<p><strong>test() 结果:</strong> ${testResult}</p>`;
                resultHTML += `<p><strong>match() 结果:</strong> ${matchResult ? JSON.stringify(matchResult) : 'null'}</p>`;
                
                resultDiv.innerHTML = resultHTML;
                resultDiv.style.display = 'block';
            } catch (error) {
                resultDiv.innerHTML = `<div class="example-result-title">错误:</div><p>${error.message}</p>`;
                resultDiv.style.display = 'block';
            }
        }
        
        // 页面加载完成后添加一些示例
        document.addEventListener('DOMContentLoaded', function() {
            // 设置默认示例
            document.getElementById('pattern').value = '[a-z]';
            document.getElementById('text').value = 'hello123world456';
        });
    </script>
</body>
</html>